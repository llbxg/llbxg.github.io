+++
title = "Raspberry Pi Zero 2ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ‡ãƒ¼ãƒ¢ãƒ³ã«é–¢ã—ã¦"
date = "2023-11-07"
description = "Raspberry Pi Zero 2 Wã«ãŠã‘ã‚‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ‡ãƒ¼ãƒ¢ãƒ³ã®ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•æ™‚é–“ã¸ã®å½±éŸ¿ã«ã¤ã„ã¦æ¤œè¨¼ã—ã¾ã—ãŸã€‚"
[taxonomies]
tags = ["RaspberryPi"]
+++

Raspberry Pi Zero 2 Wã«ãŠã‘ã‚‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ‡ãƒ¼ãƒ¢ãƒ³ã®ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•æ™‚é–“ã¸ã®å½±éŸ¿ã«ã¤ã„ã¦æ¤œè¨¼ã—ã¾ã—ãŸã€‚

å¯¾è±¡ã¯ã€NetworkManagerã€systemd-networkdã€networking.service (ifup/down)ã®ä¸‰ã¤ã®ä¸»è¦ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

[TOC]

## ãƒ†ã‚¹ãƒˆç’°å¢ƒ

- ãƒœãƒ¼ãƒ‰: Raspberry Pi Zero 2 W Rev 1.0
- OS: Raspberry Pi OS Lite (64-bit) â€“ 2023-10-10ãƒªãƒªãƒ¼ã‚¹
- microSD: SanDisk Extreme 32GB (UHS-I U30 V30)
- æœ‰ç·šLANã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼: TP-Link UE300C

2023å¹´10æœˆ10æ—¥ã®Raspberry Pi OSãƒªãƒªãƒ¼ã‚¹ã«ä¼´ã„ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ‡ãƒ¼ãƒ¢ãƒ³ãŒdhcpcd[^0]ã‹ã‚‰NetworkManager[^1]ã«å¤‰æ›´ã•ã‚Œã¾ã—ãŸ[^2]ã€‚
ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã€`network-online.target`[^3]ãŒã€`networking.service`ã¨`NetworkManager.service`ã‚’ä¾å­˜é–¢ä¿‚ã¨ã—ã¦æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚

```bash
$ systemctl list-dependencies network-online.target 
network-online.target
ğŸŸ¢ â”œâ”€networking.service
ğŸŸ¢ â””â”€NetworkManager-wait-online.service
```

æ¸¬å®šçµæœã¯ã€systemd-analyzeã‚³ãƒãƒ³ãƒ‰ã§è¨ˆæ¸¬ã—ãŸ10å›ã®è©¦è¡Œã®å¹³å‡å€¤ã§ã™ã€‚

## NetworkManagerã®æ¦‚è¦

NetworkManagerã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›ã—ã€è¤‡æ•°ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’åŠ¹ç‡çš„ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã‚’å¯èƒ½ã«ã™ã‚‹ãƒ‡ãƒ¼ãƒ¢ãƒ³ã§ã™ã€‚
`NetworkManager.service`ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã“ã¨ã§ã€OSèµ·å‹•æ™‚ã«è‡ªå‹•çš„ã«NetworkManagerãŒèµ·å‹•ã—ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’ç®¡ç†ã—ã¾ã™ã€‚`NetworkManager.service`ã«ã¯`NetworkManager-wait-online.service`[^NM-1]ã¨`NetworkManager-dispatcher.service`ãŒalsoã¨ã—ã¦ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™ã€‚

`NetworkManager-wait-online.service`ã¯ã€ç‰¹å®šã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆä¾‹: eth0ï¼‰ã«ã‚­ãƒ£ãƒªã‚¢ï¼ˆç‰©ç†çš„æ¥ç¶šï¼‰ãŒå­˜åœ¨ã™ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šãŒå¿…è¦ãªä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒé©åˆ‡ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šå®Œäº†å¾Œã«èµ·å‹•ã™ã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚

### èµ·å‹•é †åº

NetworkManager.serviceã«ç¶šãã€NetworkManager-wait-online.serviceãŒèµ·å‹•ã—ã€é©åˆ‡ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šãŒç¢ºç«‹ã•ã‚Œã‚‹ã¾ã§ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã®èµ·å‹•ã‚’å¾…æ©Ÿã—ã¾ã™ã€‚ä»¥ä¸‹ã¯ãã®ãƒ—ãƒ­ã‚»ã‚¹ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚

![NetworkManager.serviceã¨NetworkManager-wait-online.service](/image/017/NetworkManager-service.png)


### èµ·å‹•æ™‚é–“ã®è¨ˆæ¸¬ 1

ä»¥ä¸‹ã®è¡¨ã¯ã€æœ‰ç·šLANã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚±ãƒ¼ãƒ–ãƒ«ã®æ¥ç¶šçŠ¶æ…‹ã«å¿œã˜ãŸã€å„ã‚µãƒ¼ãƒ“ã‚¹ã®èµ·å‹•æ™‚é–“ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚

| eth adapter | Network Cable | NetworkManager.service [s] | NetworkManager-wait-online.service [s] | Kernel Time [s] | Userspace Time [s] | Total Time [s] |
|:-----------:|:-------------:|----------------------------|----------------------------------------|-----------------|--------------------|----------------|
| â—‹           | â—‹             | 1.1182                     | 1.6457                                 | 6.4387          | 12.0592            | 18.4982        |
| Ã—           | Ã—             | 1.1508                     | 1.5773                                 | 6.2877          | 11.5893            | 17.8774        |
| â—‹           | Ã—             | 1.1253                     | 6.6318                                 | 6.4627          | 17.1111            | 23.5741        |

LANã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ãŒãªã„å ´åˆã€ãƒ‰ãƒ©ã‚¤ãƒãŒä¸è¦ãªãŸã‚ã‚«ãƒ¼ãƒãƒ«ã®èµ·å‹•æ™‚é–“ãŒçŸ­ç¸®ã•ã‚Œã¾ã™ã€‚ä¸€æ–¹ã§ã€ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ãŒã‚ã‚ŠãªãŒã‚‰ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚±ãƒ¼ãƒ–ãƒ«ãŒæœªæ¥ç¶šã®å ´åˆã€`NetworkManager-wait-online.service`ã¯ç´„5ç§’é–“åœæ­¢ã—ã¾ã™ã€‚ã“ã‚Œã¯`carrier-wait-timeout`ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šï¼ˆ5000ãƒŸãƒªç§’ï¼‰ã«ã‚ˆã‚‹ã‚‚ã®ã§ã™ã€‚`NetworkManager.conf`[^6]ã§å¤‰æ›´å¯èƒ½ã§ã™ã€‚

### /etc/network/interfacesã¨ã®å¹²æ¸‰

`/etc/NetworkManager/NetworkManager.conf`ã«ä»¥ä¸‹ã®è¨˜è¿°ãŒã‚ã‚‹ã®ã§ã€`/etc/network/interfaces`ã§å®šç¾©ã•ã‚ŒãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯NetworkManagerã«ã‚ˆã£ã¦ç®¡ç†ã•ã‚Œãªã„ã‚ˆã†ã§ã™ã€‚

```bash
[ifupdown] 
managed=false
```

`/etc/network/interfaces` ãƒ•ã‚¡ã‚¤ãƒ«ãŒåŸºæœ¬çš„ã«ç©ºã§ã€ãã—ã¦ `/etc/network/interfaces.d` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚‚ç©ºã§ã‚ã‚‹ãŸã‚ã€`networking.service` ãŒèµ·å‹•æ™‚ã«å®Ÿéš›ã«ä½•ã‚‚è¨­å®šã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ãŸã‚ã€`networking.service`ã¯ä½•ã®ã‚¨ãƒ©ãƒ¼ã‚‚ç™ºç”Ÿã›ãšã«ã™ãã«çµ‚äº†ã—ã¾ã™ã€‚

## networking.service

`networking.service`ã¯ã€ä¼çµ±çš„ãªDebianç³»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç®¡ç†æ–¹æ³•ã‚’æä¾›ã™ã‚‹ãƒ‡ãƒ¼ãƒ¢ãƒ³ã§ã€`/etc/network/interfaces`ãƒ•ã‚¡ã‚¤ãƒ«ã«åŸºã¥ã„ãŸãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šã‚’`ifup`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—é©ç”¨ã—ã¾ã™ã€‚
ã“ã®ãƒ‡ãƒ¼ãƒ¢ãƒ³ã¯ã€ç‰¹ã«é™çš„IPè¨­å®šã‚„ç‰¹å®šã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ä¾å­˜ã™ã‚‹ç’°å¢ƒã«é©ã—ã¦ã„ã¾ã™ã€‚
Debianã®ç‰¹å®šã®ä¿®æ­£ã«ã‚ˆã‚Šã€`/etc/default/networking`ã®è¨­å®šãŒ`--read-environment`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒãªãã¦ã‚‚èª­ã¿è¾¼ã¾ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ãŒã€ã“ã‚Œã¯æ¨å¥¨ã•ã‚Œã¦ã„ã‚‹æ–¹æ³•ã§ã¯ãªã•ãã†ã§ã™[^7]ã€‚

### ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®è¨­å®šä¾‹

ä»¥ä¸‹ã¯ã€eth0ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’DHCPã‚’ä»‹ã—ã¦è‡ªå‹•çš„ã«èµ·å‹•ã™ã‚‹ãŸã‚ã®è¨­å®šä¾‹ã§ã™ã€‚

```bash
$ cat /etc/network/interfaces
source /etc/network/interfaces.d/*

auto eth0
iface eth0 inet dhcp
```

ã“ã®è¨­å®šã«ã‚ˆã‚Šã€ifupãŒå®Ÿè¡Œã•ã‚Œã‚‹ã¨dhclient[^8]ãƒ—ãƒ­ã‚»ã‚¹ãŒé–‹å§‹ã•ã‚Œã€eth0ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«IPã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¾ã™ã€‚

```bash
$ ps -f -p 549
UID          PID    PPID  C STIME TTY          TIME CMD
root         549       1  0 11:48 ?        00:00:00 dhclient -4 -v -i -pf /run/dhclient.eth0.pid -lf /var/lib/dhcp/dhclient.eth0.leases -I -df /var/lib/dhcp/dhclient6.eth0.leases eth0
```

dhclientã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šã¯60ç§’ã§ã™ãŒã€ã“ã‚Œã¯`dhclient.conf`ã§ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ã§ã™ã€‚


### èµ·å‹•æ™‚é–“ã®è¨ˆæ¸¬ 2

ä»¥ä¸‹ã®è¡¨ã¯ã€æœ‰ç·šLANã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚±ãƒ¼ãƒ–ãƒ«ã®æ¥ç¶šçŠ¶æ…‹ã«å¿œã˜ãŸã€`networking.service`ã®èµ·å‹•æ™‚é–“ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚

| eth adapter | Network Cable | networking.service [s]     | Kernel Time [s] | Userspace Time [s] | Total Time [s] |
|:-----------:|:-------------:|----------------------------|-----------------|--------------------|----------------|
| â—‹           | â—‹             | 10.7240                    | 6.4660          |  19.6007           | 26.0674        |
| Ã—           | Ã—             |  1.8900                    | 6.2849          |  10.3421           | 16.6274        |
| â—‹           | Ã—             | 62.6896                    | 6.4492          |  71.5641           | 78.0136        |

ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ãŒæ¥ç¶šã•ã‚Œã¦ã„ã¦ã‚‚ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚±ãƒ¼ãƒ–ãƒ«ãŒæ¥ç¶šã•ã‚Œã¦ã„ãªã„å ´åˆã€dhclientãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã™ã‚‹ã¾ã§ã®é•·ã„å¾…æ©Ÿæ™‚é–“ãŒç™ºç”Ÿã—ã¾ã™ã€‚
ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ãŒå­˜åœ¨ã—ãªã„å ´åˆã€èµ·å‹•æ™‚é–“ãŒè‘—ã—ãçŸ­ç¸®ã•ã‚Œã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã™ã€‚
ã“ã‚Œã¯ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆã®è‡ªå‹•æ¢ç´¢ãŒè¡Œã‚ã‚Œãªã„ãŸã‚ã ã¨æ€ã‚ã‚Œã¾ã™ã€‚

## systemd-networkd

systemd-networkdã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã®èµ·å‹•ã¨å¯†æ¥ã«çµ±åˆã•ã‚ŒãŸãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šã‚’æä¾›ã™ã‚‹ãƒ‡ãƒ¼ãƒ¢ãƒ³ã§ã™ã€‚ã“ã‚Œã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã«ã¯ã€`systemd-networkd.service`ã‚’èµ·å‹•ã—ã€é€šå¸¸ã“ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨`systemd-networkd-wait-online.service`ã‚‚åŒæ™‚ã«æœ‰åŠ¹ã«ãªã‚Šã¾ã™ã€‚
`systemd-networkd-wait-online.service`ã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚‹ã¾ã§èµ·å‹•ã‚’å¾…æ©Ÿã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§120ç§’ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™[^SN_1]ã€‚

### ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®è¨­å®šä¾‹

systemd-networkdã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’`/etc/systemd/network`ã«é…ç½®ã—ã¾ã™ã€‚
ã“ã“ã§`Name=eth0`ã¯å¯¾è±¡ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æŒ‡å®šã—ã€`DHCP=yes`ã§DHCPã‚’ä»‹ã—ã¦è‡ªå‹•çš„ã«IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å–å¾—ã™ã‚‹ã‚ˆã†æŒ‡ç¤ºã—ã¾ã™ã€‚

networkctlã‚³ãƒãƒ³ãƒ‰ã§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ç¢ºèªã—ã€ä»¥ä¸‹ã®ã‚ˆã†ã«æœ‰åŠ¹ã«ã—ã¾ã™ã€‚
è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯`/usr/lib/systemd/network`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¾ãŸã¯`/etc/systemd/network`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç½®ãã¾ã™ã€‚`/etc/systemd/network`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒå„ªå…ˆã•ã‚Œã¾ã™ã€‚

```txt
# /etc/systemd/network/50-wired.network
[Match]
Name=eth0

[Network]
DHCP=yes
```

### èµ·å‹•æ™‚é–“ã®è¨ˆæ¸¬ 3

ä»¥ä¸‹ã®è¡¨ã¯ã€æœ‰ç·šLANã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚±ãƒ¼ãƒ–ãƒ«ã®æ¥ç¶šçŠ¶æ…‹ã«å¿œã˜ãŸã€`systemd-networkd.service`ã¨`systemd-networkd-wait-online.service`ã®èµ·å‹•æ™‚é–“ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚

| eth adapter | Network Cable | systemd-networkd.service [s] | systemd-networkd-wait-online.service [s] | Kernel Time [s] | Userspace Time [s] | Total Time [s] |
|:-----------:|:-------------:|----------------------------|----------------------------------------|-----------------|--------------------|----------------|
| â—‹           | â—‹             | 2.2073                     | 2.7145                                 | 6.4470          | 10.8495            | 17.2969        |
| Ã—           | Ã—             | 2.0444                     | 120.3914                               | 6.3001        |  126.4118          | 132.7122       |
| â—‹           | Ã—             | 2.0385                     | 120.3782                               | 6.4466          |  126.4923          | 132.9396       |

ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ãŒæ¥ç¶šã•ã‚Œã¦ãŠã‚Šã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚±ãƒ¼ãƒ–ãƒ«ãŒç¹‹ãŒã£ã¦ã„ã‚‹å ´åˆã«ã¯ã€`systemd-networkd`åŠã³`systemd-networkd-wait-online.service`ã®èµ·å‹•ã¯è¿…é€Ÿã§ã™ã€‚
ã—ã‹ã—ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚±ãƒ¼ãƒ–ãƒ«ãŒæ¥ç¶šã•ã‚Œã¦ã„ãªã„å ´åˆã€`systemd-networkd-wait-online.service`ã¯è¨­å®šã•ã‚ŒãŸã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå€¤ã¾ã§å¾…æ©Ÿã—ã€ãã®çµæœã¨ã—ã¦èµ·å‹•æ™‚é–“ãŒå¤§å¹…ã«å¢—åŠ ã—ã¾ã™ã€‚

## ã¾ã¨ã‚

Raspberry Pi Zero 2 Wã§ã®ç•°ãªã‚‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ‡ãƒ¼ãƒ¢ãƒ³ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ç‰¹å¾´ã«ã¤ã„ã¦æ¤œè¨¼ã—ã¾ã—ãŸã€‚
NetworkManagerã€networking.serviceã€systemd-networkdã®ä¸‰ã¤ã®ãƒ‡ãƒ¼ãƒ¢ãƒ³ã‚’å¯¾è±¡ã«ã€ãã‚Œãã‚Œã®èµ·å‹•æ™‚é–“ã®å½±éŸ¿ã¨ä½¿ç”¨çŠ¶æ³ã«é©ã—ãŸç’°å¢ƒã‚’è©•ä¾¡ã—ã¾ã—ãŸã€‚

å€‹äººçš„ã«ã¯ã€ç‰¹ã«LANã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ãªã—ã§ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚±ãƒ¼ãƒ–ãƒ«ãŒæ¥ç¶šã•ã‚Œã¦ã„ãªã„çŠ¶æ…‹ã§ã®èµ·å‹•é€Ÿåº¦ãŒé€Ÿã„æ–¹ãŒè‰¯ã„ã®ã§ã€`networking.service`ãŒã‚ã‚Šã§ã™ã€‚
(ãŸã ã€ãã‚‚ãã‚‚ã€`Bookworm`ã«ãªã£ã¦ã‚«ãƒ¼ãƒãƒ«ã®èµ·å‹•æ™‚é–“ãŒé•·ããªã£ãŸã®ã§ã€ã¨ã‚Šã‚ãˆãšã¯`Bullseye`ãƒ™ãƒ¼ã‚¹ã‚’ä½¿ã†æ°—ãŒã—ã¾ã™ã€‚æœ€æ‚ªã€è‡ªåˆ†ã§ãƒ“ãƒ«ãƒ‰ã—ã¦ã©ã†ã«ã‹ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚)

## å‚è€ƒæ–‡çŒ®

[^0]: [dhcpcd(8) â€” manpages-ja â€” Debian testing â€” Debian Manpages](https://manpages.debian.org/testing/manpages-ja/dhcpcd.8.ja.html)

[^1]: [NetworkManager: NetworkManager Reference Manual](https://networkmanager.dev/docs/api/latest/NetworkManager.html)

[^2]: [release_notes.txt | raspberrypi.org](https://downloads.raspberrypi.org/raspios_full_arm64/release_notes.txt)

[^3]: [Running Services After the Network Is Up #network-connectivity-has-been-established-network-onlinetarget](https://systemd.io/NETWORK_ONLINE/#network-connectivity-has-been-established-network-onlinetarget)

[^NM-1]: [NetworkManager-wait-online.service: NetworkManager Reference Manual](https://networkmanager.dev/docs/api/latest/NetworkManager-wait-online.service.html)

[^6]: [NNetworkManager.conf: NetworkManager Reference Manual](https://developer-old.gnome.org/NetworkManager/stable/NetworkManager.conf.html)

[^7]: [Read /etc/default/networking when started from systemd. Closes: #806883 (c29820f3) Â· Commits Â· Debian / ifupdown Â· GitLab](https://salsa.debian.org/debian/ifupdown/-/commit/c29820f370a4905b836660ee4cf0162cdafdac66#100e8ddfecbe24ffa8c49183af687127fcab416f)

[^8]: [dhclient.conf(5): DHCP client config file - Linux man page](https://linux.die.net/man/5/dhclient.conf)

[^SN_1]: [--timeout=SECS | systemd-networkd-wait-online.service ](https://www.freedesktop.org/software/systemd/man/latest/systemd-networkd-wait-online.service.html#--timeout=SECS)

