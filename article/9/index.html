<!DOCTYPE html>
<html lang="en">


  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
  

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0,maximum-scale=1.0">

  
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100;300;400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&display=swap" rel="stylesheet">


  
  <link type="image/ico" rel="icon" href="/favicon.ico"/>
  <link rel="shortcut icon" href="https://www.kosh.dev/favicon.ico"/>
  <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://www.kosh.dev/icon/apple-touch-icon.png" />
  <link rel="icon" type="image/png" href=href="https://www.kosh.dev/icon/android-chrome-192x192.png"/>
  <link rel="icon" type="image/png" sizes="32x32" href=""/icon/icon-32x32.png", trailing_slash=false) | safe }}"/>
  <link rel="icon" type="image/png" sizes="16x16" href="/icon/icon-16x16.png", trailing_slash=false) | safe }}"/>
  <meta name="theme-color" content="#ffffff"/>

  
  <link rel ="stylesheet" href="https://www.kosh.dev/main.css"/>

  
  
  
  <meta property="og:site_name" content="kosh.dev" />
  <meta name="twitter:card" content="summary">
  <meta property="og:image" content="https://www.kosh.dev/icon/og-image.png" />

  

  <meta property="og:url" content="https://www.kosh.dev/article&#x2F;{{page.slug}}&#x2F;" />
  <meta property="og:title" content="HerokuとGitHubの連携ができなくなってた。"/>
  <meta name="description" content="いつの間にかHerokuとGitHubが繋がらなくなっていました。" />
  <meta property="description" content="いつの間にかHerokuとGitHubが繋がらなくなっていました。" />
  <meta property="og:type" content="article" />
<title> HerokuとGitHubの連携ができなくなってた。| kosh.dev</title>


</head>

<body>
  <header id="header" class="pinned" ><div class="items">
        <div class="item logo"><a href="/">kosh.dev</a></div></div>
  </header>

  <main>
    

<div class="article">
    <h1 class="title">HerokuとGitHubの連携ができなくなってた。</h1>
    <div class='info'>
        <div class='date'>2022-05-06</div>
        
    </div>
<div class="contents">

<p>いつの間にかHerokuとGitHubが繋がらなくなっていました。</p>
<p>
<div class="toc" id="toc"><ol>
    
        <li><a href="https://www.kosh.dev/article/9/#heroku-incident">Heroku incident</a></li> 
    
        <li><a href="https://www.kosh.dev/article/9/#dui-ying">対応</a></li> 
     
</ol></div></p>
<h2 id="heroku-incident">Heroku incident</h2>
<p>Herokuによって発行されたOAuthユーザートークンの悪用が確認されたようです。</p>
<p>(&quot;Important information about your GitHub account&quot;のタイトルでGitHub Securityからメールが届いていました。)</p>
<p>GitHubとHerokuの情報は、以下の記事で確認できます。</p>
<p><a href="https://github.blog/2022-04-15-security-alert-stolen-oauth-user-tokens/">Security alert: Attack campaign involving stolen OAuth user tokens issued to two third-party integrators | GitHub Blog</a></p>
<p><a href="https://status.heroku.com/incidents/2413">Heroku Security Notification</a></p>
<p>随時更新されるようです。</p>
<h2 id="dui-ying">対応</h2>
<p>このサイトはGitHubのmainブランチにpushされるたびに更新される仕様でした。</p>
<p>とりあえず<strong>Heroku CLI</strong>で対応します。(環境 → macOS Monterey 12.3)</p>
<p>Herokuのアプリケーションに既存のgitリポジトリを紐付けて対応しました。</p>
<h3 id="cilnoinsutoru">CILのインストール</h3>
<p>CILのインストールは公式サイトに従いました。</p>
<p><a href="https://devcenter.heroku.com/ja/articles/heroku-cli#install-the-heroku-cli">Heroku CLI のインストール</a></p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-meta z-group z-expansion z-job z-shell"><span class="z-punctuation z-definition z-variable z-job z-shell">%</span></span></span></span><span class="z-meta z-function-call z-arguments z-shell"> brew tap heroku/brew</span> <span class="z-keyword z-operator z-logical z-and z-shell">&amp;&amp;</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">brew</span></span><span class="z-meta z-function-call z-arguments z-shell"> install heroku </span>
</span></code></pre>
<h3 id="herokuhenoroguin">herokuへのログイン</h3>
<p><code>heroku login</code>を打ち込み、q以外の何かを打ち込むとブラウザが起動します。そこでログインできます。</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-meta z-group z-expansion z-job z-shell"><span class="z-punctuation z-definition z-variable z-job z-shell">%</span></span></span></span><span class="z-meta z-function-call z-arguments z-shell"> heroku login</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">heroku:</span></span><span class="z-meta z-function-call z-arguments z-shell"> Press any key to open up the browser to login or q to exit: </span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Opening</span></span><span class="z-meta z-function-call z-arguments z-shell"> browser to https://cli-auth.heroku.com/(ry</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Logging</span></span><span class="z-meta z-function-call z-arguments z-shell"> in... done</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Logged</span></span><span class="z-meta z-function-call z-arguments z-shell"> in as hi@example.com</span>
</span></code></pre>
<h3 id="niu-fu-ke-deng-lu">紐付け（登録）</h3>
<p>gitのリポジトリ配下で以下のコマンドを打ち込みます。(<code>&lt;app-name&gt;</code>には自分のapp名を入れてください。)</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-meta z-group z-expansion z-job z-shell"><span class="z-punctuation z-definition z-variable z-job z-shell">%</span></span></span></span><span class="z-meta z-function-call z-arguments z-shell"> heroku git:remote<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>a</span> <span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>app-name<span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span>
</span></span></code></pre>
<h3 id="depuroi">デプロイ</h3>
<p>デプロイは以下のコマンドでできます。</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-meta z-group z-expansion z-job z-shell"><span class="z-punctuation z-definition z-variable z-job z-shell">%</span></span></span></span><span class="z-meta z-function-call z-arguments z-shell"> git push heroku main</span>
</span></code></pre>

</div>

</div>



<script src="https://www.kosh.dev/js/internal_external.js"></script>


  </main>

  <footer>
    <div class="item">©&nbsp;kosh&nbsp;2025</div>
    <div class="item"><a href='/about/'>/about</a></div>
    <div class="item"><a href='/atom.xml'>/atom.xml</a></div>
    
<div class="item"><a href="https://github.com/llbxg/llbxg.github.io/blob/main/content/article/9.md">(Edit)</a></div>

    
  </footer>
  
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-RVMB5GPN2Z"></script>
  <script src="https://www.kosh.dev/js/google_analytics.js"></script>
  

</body>

</html>